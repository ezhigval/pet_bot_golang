1. Конфиденциальность и защита персональных данных

Цель: никто, кроме пользователя и системы, не должен видеть или иметь доступ к личной информации.

Разделение данных:

Персональные данные (email, телефон, здоровье, привычки) хранятся в отдельной базе данных и зашифрованы на уровне поля.

Обезличенные данные (например, общий запрос “как оттереть пятно”) хранятся отдельно, используются для статистики и рекомендаций без привязки к конкретному пользователю.

Шифрование:

В базе: AES-256 для всех полей с личными данными.

Передача: TLS 1.3 для всех API запросов.

На уровне приложения: можно дополнительно шифровать ключевые поля на клиенте (например, при хранении пароля в памяти до отправки).

Доступы и разграничение:

Администраторы видят только обезличенные статистические данные.

Личные данные доступны только через API для авторизованного пользователя с 2FA.

Логирование:

Логи событий анонимизированы.

Чувствительные данные в логах не пишем (пароли, email, устройства, IP полностью не сохраняются).

2. Аутентификация и авторизация

2FA обязательна для всех пользователей.

JWT токены короткой жизни, с автоматическим обновлением через refresh-токен.

Ограничение одновременных сессий с одного устройства или IP.

Привязка устройств: каждая сессия знает, с какого устройства пришла → сложно использовать украденный токен на другом устройстве.

3. Защита от пиратства и мультиаккаунтов

Отслеживаем попытки регистрации с одного устройства/IP.

Сокращаем бесплатный период при подозрительных регистрациях.

Отправка алертов администраторам при подозрительных попытках.

В будущем: интеграция с платёжными системами и проверка лицензий/подписок.

4. Защита от DDoS и нагрузок

Rate limiting для всех API запросов (например, 5 регистраций/мин с одного IP).

Использование облачного WAF (Web Application Firewall) и CDN для фильтрации вредоносного трафика.

Разделение фронтенда и бэкенда: бэкенд через Load Balancer → горизонтальное масштабирование.

Кэширование часто запрашиваемых данных (Redis/Memcached), чтобы снизить нагрузку на базу.

Лимиты на попытки входа/регистрации → защита от brute-force атак.

5. Интеграция безопасных сервисов

База данных: PostgreSQL с SSL, включена проверка на SQL инъекции через ORM (например, GORM для Go).

Сообщения и нотификации: все через безопасные очереди (Kafka с шифрованием).

Секреты и ключи: хранение через Vault или аналог для управления ключами и токенами.

Логи и мониторинг: ELK stack или Prometheus/Grafana, но без персональных данных.

6. Защита кода и приложений

Обфускация мобильного кода для Android и iOS (R8/ProGuard, Swift obfuscation).

Проверка пакетов и зависимостей через Snyk или аналог, чтобы не было известных уязвимостей.

CI/CD с автоматическим тестированием на безопасность: статический анализ, проверка уязвимостей и зависимостей.

7. Продвинутый уровень защиты

Поведенческий анализ: отслеживаем необычную активность → предупреждаем пользователя или временно блокируем сессию.

Анонимизация данных для AI: при обучении ИИ используем дифференциальную приватность → нельзя восстановить личность по обучающему датасету.

Хранение секретных данных и ключей в Hardware Security Module (HSM) на сервере.

Автоматическое масштабирование серверов при DDoS → система остаётся живой даже при пике атак.